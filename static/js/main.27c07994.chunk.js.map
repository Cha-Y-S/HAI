{"version":3,"sources":["FileSaver.js","Containers/photo/Egg/1.jpg","stores/ManageFile.js","Containers/FaceOutput.js","Components/Container.js","Containers/FileUpload.js","Containers/CamUpload.js","Containers/FaceInput.js","Components/NextButton.js","Components/PrevButton.js","Containers/Init.js","Containers/RealtimeFaceOutput.js","Components/Content.js","Components/Header.js","Components/Footer.js","Components/HomeButton.js","Containers/Education.js","Containers/Home.js","App.js","serviceWorker.js","stores/index.js","index.js"],"names":["_global","window","self","global","this","download","url","name","opts","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","console","error","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","isMacOSWebView","navigator","test","userAgent","HTMLAnchorElement","prototype","blob","URL","webkitURL","a","createElement","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","type","Blob","String","fromCharCode","bom","popup","title","body","innerText","force","isSafari","HTMLElement","safari","isChromeIOS","FileReader","reader","onloadend","result","replace","readAsDataURL","module","exports","makeObservable","observable","action","t","pageIndex","counter","downcheck","intervalId","Input_image","FaceType","DOTS_Border","drawMesh","predictions","ctx","log","clearInterval","length","forEach","prediction","keypoints","scaledMesh","finalData","i","x","y","includes","push","beginPath","arc","Math","PI","fillStyle","fill","max","max_id","model","tf","img","tensor","fromPixels","resized","resizeBilinear","toFloat","offset","sub","div","expandDims","preprocess","then","rvalue","predict","data","alert","FaceOutputContainer","useRef","canvasRef","imageRef","ManageFile","React","useContext","MobXProviderContext","runFacemesh","facemesh","mediapipeFacemesh","net","image","current","setInterval","detect","imageWidth","width","imageHeight","height","estimateFaces","input","predictIrises","face","getContext","faceType","style","color","cursor","fontWeight","display","fontSize","ImageContainer","id","src","imageUrl","ref","position","top","left","styled","Container","FileUploadContainer","inject","observer","state","file","previewURL","onChangeFile","preventDefault","files","props","fileName","setState","Font30","FileSelect","onClick","getElementById","Font16","onChange","marginTop","marginBottom","Component","active","button","CamUploadContainer","isCapture","setRef","webcam","capture","imgSrc","getScreenshot","captureImage","m_url","imageBase64","cb","Image","canvas","setTransform","drawImage","toDataURL","audio","mirrored","screenshotFormat","videoConstraints","facingMode","object-fit","screenshotQuality","ButtonContainer","CaptureButton","Font15","FaceInputContainer","f","inputType","FileUpload","CamUpload","ConfirmButton","NextButton","nextClick","Next","Font20","PrevButton","prevClick","pIndex","Prev","InitialContainer","DOTS","RealtimeFaceOutputContainer","useEffect","webcamRef","isFront","checkFace","ratio","A","B","C","abs","video","readyState","videoWidth","videoHeight","requestAnimationFrame","Content","Header","Footer","HomeButton","homeClick","Home","EducationContainer","FaceOutput","HomeContainer","buttonIndex","picClick","camClick","realTimeCamClick","eduClick","script","appendChild","text","Font50","Init","AnimationButtonContainer","ButtonItem","cascade","alignItems","PicUploadButton","ButtonFont15","right","delay","WebcamButton","FaceInput","Education","RealtimeFaceOutput","p","App","className","Boolean","hostname","match","ReactDOM","render","stores","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.27c07994.chunk.js","sourcesContent":["/*\r\n* FileSaver.js\r\n* A saveAs() FileSaver implementation.\r\n*\r\n* By Eli Grey, http://eligrey.com\r\n*\r\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\r\n* source  : http://purl.eligrey.com/github/FileSaver.js\r\n*/\r\n\r\n// The one and only way of getting global scope in all environments\r\n// https://stackoverflow.com/q/3277182/1008999\r\nvar _global = typeof window === 'object' && window.window === window\r\n  ? window : typeof window.self === 'object' && window.self.self === window.self\r\n  ? window.self : typeof global === 'object' && global.global === global\r\n  ? global\r\n  : this\r\n\r\nfunction bom (blob, opts) {\r\n  if (typeof opts === 'undefined') opts = { autoBom: false }\r\n  else if (typeof opts !== 'object') {\r\n    console.warn('Deprecated: Expected third argument to be a object')\r\n    opts = { autoBom: !opts }\r\n  }\r\n\r\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\r\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\r\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\r\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\r\n  }\r\n  return blob\r\n}\r\n\r\nfunction download (url, name, opts) {\r\n  var xhr = new XMLHttpRequest()\r\n  xhr.open('GET', url)\r\n  xhr.responseType = 'blob'\r\n  xhr.onload = function () {\r\n    saveAs(xhr.response, name, opts)\r\n  }\r\n  xhr.onerror = function () {\r\n    console.error('could not download file')\r\n  }\r\n  xhr.send()\r\n}\r\n\r\nfunction corsEnabled (url) {\r\n  var xhr = new XMLHttpRequest()\r\n  // use sync to avoid popup blocker\r\n  xhr.open('HEAD', url, false)\r\n  try {\r\n    xhr.send()\r\n  } catch (e) {}\r\n  return xhr.status >= 200 && xhr.status <= 299\r\n}\r\n\r\n// `a.click()` doesn't work for all browsers (#465)\r\nfunction click (node) {\r\n  try {\r\n    node.dispatchEvent(new MouseEvent('click'))\r\n  } catch (e) {\r\n    var evt = document.createEvent('MouseEvents')\r\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\r\n                          20, false, false, false, false, 0, null)\r\n    node.dispatchEvent(evt)\r\n  }\r\n}\r\n\r\n// Detect WebView inside a native macOS app by ruling out all browsers\r\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\r\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\r\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\r\n\r\nvar saveAs = _global.saveAs || (\r\n  // probably in some web worker\r\n  (typeof window !== 'object' || window !== _global)\r\n    ? function saveAs () { /* noop */ }\r\n\r\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\r\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\r\n  ? function saveAs (blob, name, opts) {\r\n    var URL = _global.URL || _global.webkitURL\r\n    var a = document.createElement('a')\r\n    name = name || blob.name || 'download'\r\n\r\n    a.download = name\r\n    a.rel = 'noopener' // tabnabbing\r\n\r\n    // TODO: detect chrome extensions & packaged apps\r\n    // a.target = '_blank'\r\n\r\n    if (typeof blob === 'string') {\r\n      // Support regular links\r\n      a.href = blob\r\n      if (a.origin !== window.location.origin) {\r\n        corsEnabled(a.href)\r\n          ? download(blob, name, opts)\r\n          : click(a, a.target = '_blank')\r\n      } else {\r\n        click(a)\r\n      }\r\n    } else {\r\n      // Support blobs\r\n      a.href = URL.createObjectURL(blob)\r\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\r\n      setTimeout(function () { click(a) }, 0)\r\n    }\r\n  }\r\n\r\n  // Use msSaveOrOpenBlob as a second approach\r\n  : 'msSaveOrOpenBlob' in navigator\r\n  ? function saveAs (blob, name, opts) {\r\n    name = name || blob.name || 'download'\r\n\r\n    if (typeof blob === 'string') {\r\n      if (corsEnabled(blob)) {\r\n        download(blob, name, opts)\r\n      } else {\r\n        var a = document.createElement('a')\r\n        a.href = blob\r\n        a.target = '_blank'\r\n        setTimeout(function () { click(a) })\r\n      }\r\n    } else {\r\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\r\n    }\r\n  }\r\n\r\n  // Fallback to using FileReader and a popup\r\n  : function saveAs (blob, name, opts, popup) {\r\n    // Open a popup immediately do go around popup blocker\r\n    // Mostly only available on user interaction and the fileReader is async so...\r\n    popup = popup || window.open('', '_blank')\r\n    if (popup) {\r\n      popup.document.title =\r\n      popup.document.body.innerText = 'downloading...'\r\n    }\r\n\r\n    if (typeof blob === 'string') return download(blob, name, opts)\r\n\r\n    var force = blob.type === 'application/octet-stream'\r\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\r\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\r\n\r\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\r\n      // Safari doesn't allow downloading of blob URLs\r\n      var reader = new FileReader()\r\n      reader.onloadend = function () {\r\n        var url = reader.result\r\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\r\n        if (popup) popup.location.href = url\r\n        else window.location = url\r\n        popup = null // reverse-tabnabbing #460\r\n      }\r\n      reader.readAsDataURL(blob)\r\n    } else {\r\n      var URL = _global.URL || _global.webkitURL\r\n      var url = URL.createObjectURL(blob)\r\n      if (popup) popup.location = url\r\n      else window.location.href = url\r\n      popup = null // reverse-tabnabbing #460\r\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\r\n    }\r\n  }\r\n)\r\n\r\n_global.saveAs = saveAs.saveAs = saveAs\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = saveAs;\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/1.19fb8872.jpg\";","import { observable, action, makeObservable } from \"mobx\";\r\n\r\nclass ManageFile {\r\n  constructor() {\r\n    makeObservable(this);\r\n  }\r\n\r\n  @observable imageUrl = \"\";\r\n  @observable pageIndex = 0;\r\n  @observable fileName = \"\";\r\n  @observable faceType = \"\";\r\n\r\n  @action increase = (t) => {\r\n    this.pageIndex = t;\r\n  };\r\n  @action decrease = () => {\r\n    this.counter++;\r\n  };\r\n}\r\n\r\nexport default new ManageFile();\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"../App.css\";\r\nimport styled from \"styled-components\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\nimport * as facemesh from \"@tensorflow-models/face-landmarks-detection\";\r\n// import { drawMesh, checkClick } from \"utilities\";\r\nimport { MobXProviderContext } from \"mobx-react\";\r\nimport { saveAs } from \"FileSaver\";\r\n// const testImg = \"../src/Containers/faceSam.png\";\r\nimport testImg from \"./photo/Egg/1.jpg\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { useObserver } from \"mobx-react\";\r\n//import { loadLayersModel, tensor } from \"@tensorflow/tfjs\";\r\nimport ManageFile from \"stores/ManageFile\";\r\n//import { read_csv, OneHotEncoder } from \"danfojs-node\";\r\n// import { Series, DataFrame } from 'pandas-js';\r\n\r\n//dfd.read_csv('../FaceShape-Model/dataset/Standardization_Data.csv');\r\n/*const csvUrl = 'https://seonjongyoo.github.io/ModelServer/Standardization_Data.csv';\r\nasync function run() {\r\n  const csvDataset = tf.data.csv(csvUrl)\r\n\r\n// then you can use your dataset\r\n  console.log(csvDataset);\r\n  console.log((await csvDataset.columnNames()).length-1);\r\n  \r\n  const flattenedDataset =\r\n     csvDataset\r\n     .map(({xs, ys}) =>\r\n       {\r\n         // Convert xs(features) and ys(labels) from object form (keyed by\r\n         // column name) to array form.\r\n         return {xs:Object.values(xs), ys:Object.values(ys)};\r\n       })\r\n     .batch(10);\r\n  console.log(\"hh\", flattenedDataset);\r\n\r\n}\r\n\r\nrun();\r\n*/\r\n\r\n\r\n\r\n// @inject(\"ManageFile\")\r\n// @observer\r\nexport var downcheck = null;\r\nfunction useStores() {\r\n  return React.useContext(MobXProviderContext);\r\n}\r\nlet counter = 0;\r\nlet intervalId;\r\nlet pageIndex;\r\nconst FaceType = [\"둥근형\", \"계란형\", \"역삼각형\", \"각진형\"];\r\nlet Input_image;\r\n\r\nfunction FaceOutputContainer() {\r\n  // const [isDetected, setDetected] = useState(false);\r\n\r\n  const webcamRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const imageRef = useRef(null);\r\n\r\n  const { ManageFile } = useStores();\r\n  // const imageRef = React.createRef();\r\n\r\n  // Load facemesh\r\n  const runFacemesh = async () => {\r\n    const net = await facemesh.load(\r\n      facemesh.SupportedPackages.mediapipeFacemesh\r\n    );\r\n    const image = imageRef.current;\r\n    //const gantTensor = tf.browser.fromPixels(image);\r\n    // console.log(gantTensor.shape.print);\r\n    //const test = gantTensor.print();\r\n    //console.log(test);\r\n\r\n    //const values = gantTensor.arraySync();\r\n    Input_image = image;\r\n    //const arr = Array.from(values);\r\n    //console.log(values);\r\n\r\n    //console.log(arr);\r\n\r\n\r\n    console.log(\"init counter\");\r\n    //detect(net);\r\n    downcheck = false;\r\n    counter = 0;\r\n    pageIndex = ManageFile.pageIndex;\r\n\r\n    intervalId = setInterval(() => {\r\n      console.log(\"Start detection!\");\r\n      detect(net);\r\n    }, 1000); // 200ms\r\n  };\r\n\r\n  // Detect function\r\n  const detect = async (net) => {\r\n    console.log(\"Start prediction!\");\r\n\r\n    const image = imageRef.current;\r\n    // console.log(image);\r\n    const imageWidth = imageRef.current.width;\r\n    // console.log(imageWidth);\r\n    const imageHeight = imageRef.current.height;\r\n\r\n    // Set canvas width\r\n    canvasRef.current.width = imageWidth;\r\n    canvasRef.current.height = imageHeight;\r\n\r\n    // const imageElement = document.getElementById(\"test\");\r\n    const face = await net.estimateFaces({\r\n      input: image,\r\n      predictIrises: false,\r\n    });\r\n\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    ManageFile.faceType = drawMesh(face, ctx);\r\n\r\n    // drawDot(ctx);\r\n  };\r\n\r\n  runFacemesh();\r\n\r\n  return (\r\n    <>\r\n      {/* 당신의 얼굴형은 {ManageFile.faceType} 입니다! */}\r\n      <div style={{ color: \"white\", cursor: \"default\"}}>\r\n        당신의 <p fontWeight={\"bold\"} style={{ cursor: \"default\", color: \"blue\", display: \"inline-block\", fontWeight: \"bold\" }}>얼굴형</p>\r\n        을 확인해보세요.\r\n      </div>\r\n      {/* <p>{!isDetected ? '인식중...' : '인식 완료'}</p> */}\r\n      <p>인식중. . .</p>\r\n      <p fontWeight={\"bold\"} fontSize={15} style={{cursor: \"default\",}}>약 1분정도 소요됩니다.</p>      \r\n      <ImageContainer>\r\n        <img\r\n          id=\"test\"\r\n          src={ManageFile.imageUrl}\r\n          ref={imageRef}\r\n          style={{\r\n            position: \"relative\",\r\n            top: 0,\r\n            left: '5%',\r\n            width: '90%',\r\n            height: 'auto',\r\n          }}\r\n        />\r\n        <canvas\r\n          ref={canvasRef}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: '5%',\r\n            width: '90%',\r\n            height: 'auto',\r\n          }}\r\n        />\r\n      </ImageContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nvar DOTS = [\r\n  10, 338, 297, 332, 284, 251, 389, 356, 454, 323, 361, 288, 397, 365, 379, \r\n  378, 400, 377, 152, 148, 176, 149, 150, 136, 172, 58, 132, 93, 234, 127, \r\n  162, 21, 54, 103, 67, 109, 151, 337, 299, 333, 298, 301, 368, 264, 447, \r\n  366, 401, 435, 367, 364, 394, 395, 369, 396, 175, 171, 140, 170, 169, \r\n  135, 138, 215, 177, 137, 227, 34, 139, 71, 68, 104, 69, 108,\r\n];\r\n\r\nvar DOTS_Border = [\r\n  10, 338, 297, 332, 284, 251, 389, 356, 454, 323, 361, 288, 397, 365, \r\n  379, 378, 400, 377, 152, 148, 176, 149, 150, 136, 172, 58, 132, 93, \r\n  234, 127, 162, 21, 54, 103, 67, 109 \r\n]\r\n\r\nvar MEAN = [\r\n  317.34608396402996, 166.06748173014324, 157.0257360159556, 241.91657093048096, \r\n  152.02372121747334, 311.2839751586914, 170.4475929705302, 213.58675669606527, \r\n  169.30214713637034, 457.51412580362955, 229.53178845850627, 175.15323890050252, \r\n  181.07767672602336, 230.81779460906984, 239.28567277526855, 207.8930090560913, \r\n  166.59509213129678, 253.52876215871174, 153.5357890958786, 379.96588117980957, \r\n  193.26865617307027, 190.7146961593628, 204.10334443283082, 214.7880198465983, \r\n  275.7211608505249, 206.39639033253988, 269.5266644592285, 167.64156993103026, \r\n  148.92142725785573, 309.1280487162272, 158.80792847855886, 417.90442963663736,\r\n  198.84889134979247, 494.81708810424806, 202.1571542599996, 513.1226370747884, \r\n  151.70107823181152, 377.6063846791585, 179.56805412419638, 473.8194097391764, \r\n  158.8962929534912, 280.0028097890218, 260.4949598083496, 550.8297864786783, \r\n  288.1819505513509, 572.9071379699707, 244.22648123931884, 549.9100770161947, \r\n  225.061201616923, 534.5404442749024, 317.42787222798665, 206.9501277364095, \r\n  318.5821722462972, 576.0710872294109, 150.45824812221528, 271.9005940806071,\r\n  220.18807433827718, 516.0503543904622, 239.82092828877768, 533.4431387125651, \r\n  286.8116517791748, 562.6737873331706, 184.34668963305157, 489.3863490600586, \r\n  318.56505517578125, 565.8208261210124, 264.46693630218505, 563.4458883361816, \r\n  156.20739807097118, 412.4601502126058, 164.39126594034832, 444.6346648050944, \r\n  150.04865044403076, 344.2158627217611, 151.2033703368505, 344.3607885538737, \r\n  477.7538183186849, 241.41879135894774, 482.9306268412272, 310.60292544555665, \r\n  464.1548187866211, 213.20565973154703, 466.5794129740397, 456.73617039998373, \r\n  405.12961053975425, 174.99809284464519, 453.46208989461263, 230.74870049031574, \r\n  395.3662155609131, 208.00842064666747, 468.1033574523926, 253.37236525980632, \r\n  481.81780423990887, 379.20133503723144, 441.3447464090983, 190.50639233398437, \r\n  430.43637685139976, 214.87964322153726, 358.99613565063476, 206.39670866902668, \r\n  365.1606446431478, 167.57392410151164, 486.01041860961914, 308.4870539194743, \r\n  476.8055197652181, 417.1543997701009, 437.5035538431803, 494.2020725402832, \r\n  434.2717408650716, 512.5704053446452, 483.5947680257161, 376.8029037475586, \r\n  456.57048259480797, 473.125716603597, 475.9887866007487, 279.5459447072347, \r\n  376.22863101704917, 550.5067538045247, 348.8283382212321, 572.728564839681, \r\n  392.4418057403565, 549.5256258443196, 411.51973177083335, 534.1120732828776,\r\n   484.29481705729165, 271.27189119466146, 416.3528746236165, 515.5365902811686, \r\n   396.8501129353841, 532.968368754069, 350.10177892049154, 562.4891808064779, \r\n   451.74631993611655, 488.7482022603353, 372.3684156443278, 563.1677513631184, \r\n   479.3429757283529, 411.63648298136394, 471.46035475667315, 443.9130698140462, \r\n   484.9816535135905, 343.4966476389567, 483.9438695576986, 343.61728351338706\r\n]\r\n\r\nvar ST = [\r\n  91.51316450674028, 32.19365558039298, 91.58736614373639, 35.77037781342411, \r\n  91.26912746187651, 35.90570808601237, 91.52087888815228, 35.15814505368065, \r\n  92.7321737667774, 38.615424698343155, 91.48626778281967, 33.382408436216785, \r\n  91.03621430410995, 34.45072094546629, 90.92041808688288, 32.84635078353417, \r\n  91.10125004821853, 34.99749817219344, 92.09288291372904, 37.49810158439254, \r\n  91.50164972607185, 34.3791738614211, 90.98878468453773, 33.74791232555571, \r\n  90.88871742523011, 32.17403102594927, 91.50378998399142, 32.613563734284384, \r\n  91.80685625053347, 36.70727343734981, 92.37010179188805, 38.05746718745477, \r\n  92.49749110972141, 37.584952732553354, 93.0654163404695, 38.70414800979893, \r\n  91.48618592434359, 36.645750308638185, 92.40907827319448, 37.699863662155586, \r\n  91.15962179362688, 35.39356555447614, 93.22406487784485, 38.406624281359264, \r\n  93.81549436310208, 39.362537690766075, 93.37413125916089, 38.9395750466991, \r\n  93.2097498918948, 38.75906869171682, 90.89364287211065, 31.818901960691797, \r\n  93.9865671122444, 39.42184938440696, 91.67398836964112, 36.247398655764314, \r\n  92.67957336684947, 37.706689566549734, 92.91254638934501, 37.971157067898304, \r\n  93.49570915290785, 38.67874867061808, 92.95663849472963, 38.7652078721465, \r\n  93.66002118186594, 38.757283136761046, 93.59366608144026, 39.1867709972003, \r\n  91.82075405585438, 37.16640711504066, 92.16635163622357, 37.611410919926, \r\n  91.31458874330583, 36.26369771413821, 91.9279064789127, 37.05851305889599, \r\n  91.7098622929472, 35.641894774000384, 91.5174886021571, 35.89839246920571, \r\n  91.66799777309424, 34.91466909824355, 93.16149860901119, 38.954169725874365, \r\n  91.62005246292846, 33.09258551497097, 91.24277698866949, 34.18489955944353, \r\n  91.08390813191713, 32.59353850356152, 91.28089510911164, 34.81466097899405, \r\n  92.3994978152966, 37.751667318407094, 91.65675034085342, 34.066577637831706, \r\n  91.20263692652605, 33.45191149083333, 90.98189772334625, 32.02054548488021, \r\n  91.57862758629793, 32.42918689593486, 91.98805399805717, 36.802964158594996, \r\n  92.75361958782972, 38.366142547597626, 92.97303224941722, 37.779727133238964, \r\n  93.5847615046641, 39.01208728828013, 91.80535230539778, 36.75008995517343, \r\n  92.82384534090365, 37.92639779849057, 91.35267454198184, 35.300687324498746, \r\n  93.61272191093676, 38.56903697481455, 94.06848220994712, 39.463226735553526, \r\n  93.88435426256925, 39.17236904054177, 93.76498159457277, 39.037152787175856, \r\n  91.79696597578375, 36.21999976479958, 93.20625263879252, 37.90494080295896, \r\n  93.39979941194947, 38.16059660964369, 93.73046343638693, 38.77034121751527, \r\n  93.41636499316762, 39.09774662552307, 94.00524111690358, 39.35894932296075, \r\n  92.1681170068911, 37.34406806890641, 92.55669915665285, 37.84073465510624, \r\n  91.61551072899658, 36.31096074286701, 92.16752870943432, 37.24320600124049\r\n]\r\n\r\nfunction preprocess(img)\r\n{\r\n    //convert the image data to a tensor \r\n    let tensor = tf.browser.fromPixels(img)\r\n    //resize to 224 X 224\r\n    const resized = tf.image.resizeBilinear(tensor, [224, 224]).toFloat()\r\n    // Normalize the image \r\n    const offset = tf.scalar(255.0);\r\n    const normalized = tf.scalar(1.0).sub(resized.div(offset));\r\n    //We add a dimension to get a batch shape \r\n    const batched = normalized.expandDims(0)\r\n    return batched\r\n}\r\n\r\n\r\n// Drawing Mesh\r\nconst drawMesh = (predictions, ctx) => {\r\n  // console.log(\"downcheck=\" + downcheck);\r\n  counter++;\r\n  if (counter >= 5) {\r\n    console.log(\"CLEAR!!!!\");\r\n    clearInterval(intervalId);\r\n    downcheck = true;\r\n    // this.setState({isDetected:true});\r\n  }\r\n  if (predictions.length > 0) {\r\n    predictions.forEach((prediction, result) => {\r\n      const keypoints = prediction.scaledMesh;\r\n      var finalData = [];\r\n      // Draw Dots\r\n      for (let i = 0; i < keypoints.length; i++) {\r\n        // 먼저, index가 DOTS에 포함된 index인지 확인\r\n        //console.log(\"here\")\r\n        //console.log(keypoints[i][0], keypoints[i][1]);\r\n        //console.log(`Keypoint ${i}: [${x}, ${y}, ${z}]`);\r\n        const [x, y, z] = keypoints[i];\r\n        result = DOTS_Border.includes(i);\r\n        if (result) {\r\n          //console.log(\"here\")\r\n          //console.log(keypoints[i][0], keypoints[i][1]);\r\n          //console.log(`Keypoint ${i}: [${x}, ${y}, ${z}]`);\r\n          //ctx.beginPath();\r\n          //ctx.arc(x, y, 1.7, 0, 3 * Math.PI);\r\n          //ctx.fillStyle = \"SpringGreen\";\r\n          //ctx.fill();\r\n\r\n          //z값 제외\r\n          finalData.push(x);\r\n          finalData.push(y);\r\n        }\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, 1.7, 0, 3 * Math.PI);\r\n        ctx.fillStyle = \"SpringGreen\";\r\n        ctx.fill();\r\n      }\r\n      //put Keypoints to Shape Model\r\n      if (downcheck) {\r\n        //for (let i = 0; i < finalData.length; i++) {\r\n        //  finalData[i] = (finalData[i]-MEAN[i])/ST[i];\r\n        //}\r\n        //const csvDataset = tf.data.csv(csvUrl);\r\n        /*let sum = 0.0;\r\n        for (let i = 0; i < finalData.length; i++) {\r\n          sum += finalData[i];\r\n        }\r\n        let mean = sum / finalData.length;\r\n        let devSum = 0;\r\n        for (let i = 0; i < finalData.length; i++) {\r\n          let dev = finalData[i] - mean;\r\n          devSum += dev * dev;\r\n        }\r\n        //표준편차\r\n        let stdDev = Math.sqrt(devSum / finalData.length);\r\n        for (let i = 0; i < finalData.length; i++) {\r\n          finalData[i] = (finalData[i] - mean) / stdDev;\r\n        }*/\r\n        //console.log(finalData);\r\n        //console.log(Input_image);\r\n        // 추출한 좌표를 Shape Model의 input으로 넣는다.\r\n        let max = 0;\r\n        let max_id = 0;\r\n        const model = tf.loadLayersModel(\r\n          \"https://seonjongyoo.github.io/ModelServer/model-v3/model.json\"\r\n        );\r\n        console.log(\"Complete to load Model\");\r\n        const img = preprocess(Input_image);\r\n        console.log(\"Checking...\")\r\n        model.then(function (result) {\r\n          console.log(\"Wait a minute please...\");\r\n          const rvalue = result.predict(img);\r\n          console.log(\"Just a moment!\");\r\n          console.log(rvalue);\r\n          rvalue.data().then(function (data) {\r\n            console.log(data);\r\n            for (let i = 0; i < data.length; i++) {\r\n              if (data[i] > max) {\r\n                max = data[i];\r\n                max_id = i;\r\n              }\r\n            }\r\n            // 예측값(tensor)에서 최댓값과 인덱스 추출\r\n            console.log(max);\r\n            console.log(\"Your Face ID is \", max_id);\r\n            alert(\"당신의 얼굴형은 \" + FaceType[max_id] + \"입니다!\");\r\n            return;\r\n            // ManageFile.faceType = FaceType[max_id]\r\n            // ManageFile.faceType = \"ffff\"\r\n          });\r\n        })\r\n      }\r\n\r\n      // create textfile for data modeling\r\n      if (downcheck && pageIndex == 5) {\r\n        //console.log(\"finalData: \", finalData);\r\n\r\n        // console.log(\"here\");\r\n        var blob = new Blob([finalData], { type: \"text/plain;charset=utf-8\" });\r\n        // save txt file with photo file name\r\n        saveAs(blob, \"data.txt\");\r\n      }\r\n      /*console.log(keypoints[234][0], keypoints[234][1]);\r\n      console.log(keypoints[454][0], keypoints[454][1]);\r\n      console.log(keypoints[10][0], keypoints[10][1]);\r\n      console.log(keypoints[152][0], keypoints[152][1]);*/\r\n    });\r\n  }\r\n};\r\n\r\nexport default FaceOutputContainer;\r\n\r\nconst ImageContainer = styled.div`\r\n  min-width: 100%;\r\n  min-height: 50vh;\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  align-items: center;\r\n  justify-sentence: center;\r\n`;","// import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: auto;\r\n  width: 955px;\r\n  background: linear-gradient(to bottom right, #8d5aff 30%, #6236ff);\r\n  margin-top: 24px;\r\n  border-radius: 6px;\r\n  box-shadow: 3px 4px 5px 0 rgba(0, 0, 0, 0.5);\r\n  // @media (min-width: 0px) and (max-width: 767.98px) {\r\n  //   width: calc(100% - 28px);\r\n  // }\r\n\r\n  // @media (min-width: 768px) and (max-width: 1279.98px) {\r\n  //   width: 720px;\r\n  // }\r\n  // @media (min-width: 1280px) {\r\n  //   width: 1200px;\r\n  // }\r\n`;\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Container from \"Components/Container\";\r\n\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\nclass FileUploadContainer extends React.Component {\r\n  state = {\r\n    file: \"\",\r\n    previewURL: \"\",\r\n  };\r\n  onChangeFile = (e) => {\r\n    e.preventDefault();\r\n\r\n    let reader = new FileReader();\r\n    let file = e.target.files[0];\r\n\r\n    this.props.ManageFile.fileName = e.target.files[0].name;\r\n    reader.onloadend = () => {\r\n      this.props.ManageFile.imageUrl = reader.result;\r\n      this.setState({\r\n        file: file,\r\n        previewURL: reader.result,\r\n      });\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  };\r\n  // onChangeFile = (e) => {\r\n  //   const { ManageFile } = this.props;\r\n\r\n  //   let fileNameAvailable = [\"png\", \"jpg\", \"jpeg\"];\r\n  //   let fileName;\r\n  //   if (e.currentTarget.files[0]) {\r\n  //     if (\r\n  //       !fileNameAvailable.includes(\r\n  //         e.currentTarget.files[0].name.split(\".\")[e.currentTarget.files.length]\r\n  //       )\r\n  //     ) {\r\n  //       return alert(\"파일 확장자명 (png, jpg, jpeg만 가능) 을 확인해주세요.\");\r\n  //     }\r\n  //     fileName = e.currentTarget.files[0].name;\r\n  //     ManageFile.imageFile = e.currentTarget.files[0];\r\n  //     console.log(ManageFile.imageFile)\r\n  //     // document.getElementById('FileInput').select();\r\n  //     const temp=document.getElementById('FileInput')\r\n  //     temp.select();\r\n  //     // console.log(document.getSelection)\r\n  //     // console.log(temp)\r\n  //     console.log(ManageFile.imageFile.name);\r\n\r\n  //     this.setState({f:3})\r\n  //   }\r\n  // };\r\n  render() {\r\n    return (\r\n      <>\r\n      {/* // <Container> */}\r\n        <Font30>파일을 업로드 해 주세요</Font30>\r\n\r\n        <FileSelect\r\n          onClick={() => document.getElementById(\"FileInput\").click()}\r\n        >\r\n          <Font16>업로드</Font16>\r\n          {/* <img src={fileImage} /> */}\r\n          <input\r\n            id=\"FileInput\"\r\n            type=\"file\"\r\n            style={{\r\n              display: \"none\",\r\n            }}\r\n            onChange={(e) => this.onChangeFile(e)}\r\n          />\r\n        </FileSelect>\r\n        {this.state.previewURL && this.props.ManageFile.pageIndex != 4 && (\r\n          <img src={this.state.previewURL} style={{width: '480px', height: 'auto', marginTop: '15px', marginBottom: '15px'}} />\r\n        )}\r\n\r\n        {/* {ManageFile.imageFile && <img src={require('./'+ManageFile.imageFile.name)}/>} */}\r\n        {/* <img src={require('./face_540.jpg')}/> */}\r\n      {/* // </Container> */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileUploadContainer;\r\n\r\nconst FileSelect = styled.div`\r\n  border: none;\r\n  width: 686px;\r\n  height: 46px;\r\n  ${'' /* width: 50%; */}\r\n  ${'' /* height: 20%; */}\r\n  background-color: #00cfbb;\r\n  object-fit: contain;\r\n  border-radius: 3px;\r\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  align-items: center;\r\n  ${'' /* margin-bottom: 20px; */}\r\n  justify-content: center;\r\n  outline: 0;\r\n  border: ${(props) => (props.active ? \"solid 2px #0933b3\" : \"none\")};\r\n  &:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #0933b3;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n  > input {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  > img {\r\n    margin-left: 10px;\r\n  }\r\n`;\r\nconst Font16 = styled.div`\r\n  color: white;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n`;\r\nconst Font30 = styled.div`\r\n  color: white;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  margin-top: 15px;\r\n  margin-bottom: 15px;\r\n  cursor: default;\r\n`;\r\nconst UploadButton = styled.button`\r\n  width: 300px;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\n// import Container from \"Components/Container\";\r\nimport Webcam from \"react-webcam\";\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\nclass CamUploadContainer extends React.Component {\r\n  state = {\r\n    isCapture: false,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.setState({isCapture: false});\r\n  }\r\n\r\n  setRef = (webcam) => {\r\n    this.webcam = webcam;\r\n  };\r\n\r\n  capture = () => {\r\n    const imgSrc = this.webcam.getScreenshot();\r\n    const { ManageFile } = this.props;\r\n    this.captureImage(imgSrc, (m_url) => {\r\n      ManageFile.imageUrl = m_url;\r\n      this.setState({\r\n        isCapture: true,\r\n      });\r\n    });\r\n  };\r\n\r\n  captureImage = (imageBase64, cb) => {\r\n    var img = new Image();\r\n    img.src = imageBase64;\r\n    img.onload = () => {\r\n      var canvas = document.createElement(\"canvas\");\r\n      // var canvas = document.createElement(\"canvas\");\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n      var ctx = canvas.getContext(\"2d\");\r\n      ctx.setTransform(1, 0, 0, 1, img.width / 2, img.height / 2);\r\n      ctx.drawImage(img, -img.width / 2, -img.height / 2);\r\n      cb(canvas.toDataURL(\"image/jpeg\"));\r\n    };\r\n  };\r\n\r\n  render() {\r\n    const { ManageFile } = this.props;\r\n    const videoConstraints = {\r\n      width: 1280,\r\n      height: 720,\r\n      facingMode: \"user\",\r\n    };\r\n    return (\r\n      <>\r\n        <ImageContainer>\r\n          <Webcam\r\n            audio={false}\r\n            // height={\"100%\"}\r\n            ref={this.setRef}\r\n            mirrored={true}\r\n            screenshotFormat=\"image/jpeg\"\r\n            style={{\r\n              width: '90%',\r\n              height: 'auto',\r\n            }}\r\n            videoConstraints={videoConstraints}\r\n            object-fit={\"contain\"}\r\n            screenshotQuality={1}\r\n          />\r\n          {this.state.isCapture && (\r\n            <img\r\n              src={ManageFile.imageUrl}\r\n              style={{\r\n                width: '90%',\r\n                height: 'auto',\r\n              }}\r\n              object-fit=\"contain\"\r\n            />\r\n          )}\r\n        </ImageContainer>\r\n\r\n        <ButtonContainer>\r\n          <CaptureButton onClick={this.capture}>\r\n            <Font15>캡쳐</Font15>\r\n          </CaptureButton>\r\n        </ButtonContainer>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// const CamUploadContainer = () => {\r\n//   const [ camState, setCamState ] = useState({\r\n//     isCapture: false,\r\n//     imgSrc: '',\r\n//   })\r\n\r\n//   const webcamRef = useRef(null);\r\n//   const capture = React.useCallback(\r\n//     () => {\r\n//       const imgSrc = webcamRef.current.getScreenshot();\r\n//     },\r\n//     [webcamRef],\r\n//   );\r\n//   return(\r\n\r\n//   );\r\n// }\r\n\r\nexport default CamUploadContainer;\r\n\r\nconst ImageContainer = styled.div`\r\n  width: 100%;\r\n  height: 90%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  ${\"\" /* margin: 20px; */}\r\n  ${\"\" /* background: #ff0000; */}\r\n  object-fit: contain;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  ${\"\" /* width: 60%; */}\r\n  ${\"\" /* height: 70px; */}\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n`;\r\nconst CaptureButton = styled.button`\r\n\t&:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #0933b3;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n  color: #19c6dd;\r\n  height: 35px;\r\n  width: 60px;\r\n  background-color: #19c6dd;\r\n  box-shadow: 0 3px 5px 0 rgba(0, 0, 0, 0.3);\r\n  border: none;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst Font15 = styled.div`\r\n  color: white;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport FileUploadContainer from \"./FileUpload\";\r\nimport CamUploadContainer from \"./CamUpload\";\r\nimport Container from \"Components/Container\";\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\nclass FaceInputContainer extends React.Component {\r\n  state = {\r\n    f: 0,\r\n  };\r\n  render() {\r\n    const { inputType } = this.props;\r\n\r\n    const ConfirmButtonClick = () => {\r\n      if(this.props.ManageFile.imageUrl === \"\"){\r\n        if(this.props.inputType === \"file\"){\r\n          alert(\"사진을 업로드 해주세요.\");\r\n        } else {\r\n          alert(\"사진을 캡쳐 해주세요.\");\r\n        }\r\n      } else{\r\n        this.props.ManageFile.pageIndex = 4;\r\n      }\r\n\r\n      // alert(this.props.ManageFile.pageIndex);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        {/* {this.props.ManageFile.pageIndex} */}\r\n        {inputType == \"file\" ? (\r\n          <FileUploadContainer />\r\n        ) : (\r\n          <CamUploadContainer />\r\n        )}\r\n\r\n        <ConfirmButton onClick={ConfirmButtonClick}>\r\n          <Font15>확인!</Font15>\r\n        </ConfirmButton>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FaceInputContainer;\r\n\r\nconst ConfirmButton = styled.button`\r\n\t&:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #0933b3;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n  background-color: #19c6dd;\r\n  ${'' /* border: 1px solid gray; */}\r\n  box-shadow: 3px 4px 5px 0 rgba(0, 0, 0, 0.5);\r\n  padding: 5px 10px 5px 10px;\r\n  border-radius: 5px;\r\n  height: 35px;\r\n  width: 60px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: none;\r\n`;\r\n\r\nconst Font15 = styled.div`\r\n  color: white;\r\n  font-size: 15px;\r\n  ${'' /* font-weight: bold; */}\r\n`","import React from 'react';\r\nimport styled from 'styled-components'\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\n\r\nclass NextButton extends React.Component{\r\n\tnextClick = () => {\r\n    this.props.ManageFile.pageIndex = this.props.ManageFile.pageIndex + 1;\r\n  };\r\n\t\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Next onClick={this.nextClick}>\r\n\t\t\t\t<Font20>NEXT</Font20>\r\n\t\t\t</Next>\r\n\t\t);\r\n\t};\r\n};\r\n\r\nexport default NextButton;\r\n\r\nconst Font20 = styled.div`\r\n\tcolor: white;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n`\r\n\r\nconst Next = styled.button`\r\n\t&:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #0933b3;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n\tcolor: white;\r\n\tbackground: #00cfbb;\r\n\twidth: 120px;\r\n\theight: 40px;\r\n\tbox-shadow: 3px 4px 5px 0 rgba(0, 0, 0, 0.5);\r\n\tborder: none;\r\n  border-radius: 30px;\r\n\talign-items: center;\r\n  justify-content: space-around;\r\n`","import React from 'react';\r\nimport styled from 'styled-components'\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\n\r\nclass PrevButton extends React.Component{\r\n\tprevClick = () => {\r\n\t\tconst pIndex = this.props.ManageFile.pageIndex;\r\n    if (pIndex === 3 || pIndex === 5 || pIndex === 6){\r\n      this.props.ManageFile.pageIndex = 1;\r\n    } else {\r\n      this.props.ManageFile.pageIndex = this.props.ManageFile.pageIndex - 1;\r\n    }\r\n    \r\n  };\r\n\t\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Prev onClick={this.prevClick}>\r\n\t\t\t\t<Font20>PREV</Font20>\r\n\t\t\t</Prev>\r\n\t\t);\r\n\t};\r\n};\r\n\r\nexport default PrevButton;\r\n\r\nconst Font20 = styled.div`\r\n\tcolor: white;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n`\r\n\r\nconst Prev = styled.button`\r\n\t&:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #0933b3;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n\tcolor: white;\r\n\tbackground-color: #00cfbb;\r\n\twidth: 120px;\r\n\theight: 40px;\r\n\tbox-shadow: 3px 4px 5px 0 rgba(0, 0, 0, 0.5);\r\n\tborder: none;\r\n  border-radius: 30px;\r\n\talign-items: center;\r\n  justify-content: space-around;\r\n`","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport NextButton from \"../Components/NextButton\";\r\nimport PrevButton from \"../Components/PrevButton\";\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\nclass InitialContainer extends React.Component {\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<>\r\n\t\t\t\t{/* <Font50>H A I !</Font50> */}\r\n\t\t\t\t<Font30>Hi, AI!</Font30>\r\n\t\t\t\t<Font20>얼굴형 기반 헤어스타일 추천 서비스</Font20>\r\n\t\t\t\t<Font15>서비스를 이용하기 위해 NEXT 버튼을 클릭해주세요.</Font15>\r\n\t\t\t\t{/* <Font15>Robolink AI web app free trial</Font15> */}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n};\r\n\r\nexport default InitialContainer;\r\n\r\nconst Font30 = styled.div`\r\n  color: #FDFFD5;\r\n  font-size: 30px;\r\n  font-weight: normal;\r\n\tcursor: default;\r\n`;\r\n\r\nconst Font20 = styled.div`\r\n  color: #FDFFD5;\r\n  font-size: 20px;\r\n  font-weight: normal;\r\n\tcursor: default;\r\n`;\r\n\r\nconst Font15 = styled.div`\r\n  color: #FDFFD5;\r\n  font-size: 15px;\r\n  font-weight: normal;\r\n\tcursor: default;\r\n`;\r\n\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport styled from \"styled-components\";\r\n// import * as tf from \"@tensorflow/tfjs\";\r\nimport * as facemesh from \"@tensorflow-models/face-landmarks-detection\";\r\n// import { drawMesh, checkClick } from \"utilities\";\r\nimport { MobXProviderContext } from \"mobx-react\";\r\n// import { inject, observer } from \"mobx-react\";\r\n// import { useObserver } from \"mobx-react\";\r\nimport Webcam from \"react-webcam\";\r\n// @inject(\"ManageFile\")\r\n// @observer\r\nexport var downcheck = null;\r\nfunction useStores() {\r\n  return React.useContext(MobXProviderContext);\r\n}\r\n// let counter = 0;\r\nlet intervalId;\r\n// let pageIndex;\r\nlet isFront;\r\n// let isWorking = undefined;\r\n\r\nfunction RealtimeFaceOutputContainer() {\r\n  // const [isFront, setIsFront] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"RealTimeFaceOutput mounted\");\r\n    return() => {\r\n      console.log('RealTimeFaceOutput unmounted');\r\n      clearInterval(intervalId);\r\n    }\r\n  });\r\n\r\n  const webcamRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  const { ManageFile } = useStores();\r\n  // const imageRef = React.createRef();\r\n\r\n  // Load facemesh\r\n  const runFacemesh = async () => {\r\n    const net = await facemesh.load(\r\n      facemesh.SupportedPackages.mediapipeFacemesh\r\n    );\r\n\r\n    console.log(\"init counter\");\r\n    //detect(net);\r\n    downcheck = false;\r\n    // counter = 0;\r\n    // pageIndex = ManageFile.pageIndex;\r\n\r\n    intervalId = setInterval(() => {\r\n      // console.log(\"detect()\");\r\n      console.log(\"isFront: \", isFront);\r\n      detect(net);\r\n    }, 200); // 1000ms\r\n  };\r\n\r\n  const drawMesh = (predictions, ctx) => {\r\n    // console.log(\"downcheck=\" + downcheck);\r\n  \r\n    //   counter++;\r\n  \r\n    //   if (counter >= 5) {\r\n    //     console.log(\"CLEAR!!!!\");\r\n    //     clearInterval(intervalId);\r\n    //     downcheck = true;\r\n    //   }\r\n  \r\n    if (predictions.length > 0) {\r\n      predictions.forEach((prediction, result) => {\r\n        const keypoints = prediction.scaledMesh;\r\n        var finalData = [];\r\n        // Draw Dots\r\n        for (let i = 0; i < keypoints.length; i++) {\r\n          // 먼저, index가 DOTS에 포함된 index인지 확인\r\n          result = DOTS.includes(i);\r\n          if (result) {\r\n            const [x, y, z] = keypoints[i];\r\n            // console.log(`Keypoint ${i}: [${x}, ${y}, ${z}]`);\r\n            ctx.beginPath();\r\n            ctx.arc(x, y, 1.7, 0, 3 * Math.PI);\r\n            ctx.fillStyle = \"SpringGreen\";\r\n            ctx.fill();\r\n  \r\n            finalData.push(keypoints[i]);\r\n          }\r\n        }\r\n        checkFace(keypoints);\r\n      });\r\n    }\r\n  };\r\n\r\n  const checkFace = (keypoints) => {\r\n    var std = 77;\r\n    var user = keypoints[454][0] - keypoints[234][0];\r\n    var ratio = user / std;\r\n    var A = keypoints[10][0] - keypoints[234][0];\r\n    var B = keypoints[454][0] - keypoints[10][0];\r\n    var C = keypoints[10][0] - keypoints[152][0];\r\n  \r\n    if (A - B > 10 * ratio) console.log(\"turn Left\");\r\n    else if (A - B < -10 * ratio) console.log(\"turn Right\");\r\n    else if (Math.abs(C) > 10 * ratio) console.log(\"a\");\r\n    else console.log(\"good\");\r\n  };\r\n\r\n  // Detect function\r\n  const detect = async (net) => {\r\n    if (\r\n      typeof webcamRef.current !== \"undefined\" &&\r\n      webcamRef.current !== null &&\r\n      webcamRef.current.video.readyState === 4\r\n    ) {\r\n      // Get Video Properties\r\n      const video = webcamRef.current.video;\r\n      const videoWidth = webcamRef.current.video.videoWidth;\r\n      // console.log(`Video: ${videoWidth}`);\r\n      const videoHeight = webcamRef.current.video.videoHeight;\r\n      // console.log(`Video: ${videoHeight}`);\r\n      // Set video width\r\n      webcamRef.current.video.width = videoWidth;\r\n      webcamRef.current.video.height = videoHeight;\r\n      // Set canvas width\r\n      canvasRef.current.width = videoWidth;\r\n      canvasRef.current.height = videoHeight;\r\n      // console.log(`Canvas: ${canvasRef.current.width}`);\r\n      // console.log(`Canvas: ${canvasRef.current.height}`);\r\n      // Make Detections\r\n      // OLD MODEL\r\n      //       const face = await net.estimateFaces(video);\r\n      // NEW MODEL\r\n      const face = await net.estimateFaces({ input: video });\r\n      // console.log(face);\r\n\r\n      // Get canvas context\r\n      const ctx = canvasRef.current.getContext(\"2d\");\r\n      requestAnimationFrame(() => {\r\n        drawMesh(face, ctx);\r\n      });\r\n    }\r\n  };\r\n\r\n  runFacemesh();\r\n\r\n  return (\r\n    <>\r\n      {/* 당신의 얼굴형은 {ManageFile.faceType} 입니다! */}\r\n      <div style={{ color: \"white\", cursor: \"none\"}}>\r\n        당신의 <p fontWeight={\"bold\"} style={{ color: \"blue\", display: \"inline-block\", fontWeight: \"bold\" }}>얼굴형</p>\r\n        을 확인해보세요.\r\n      </div>\r\n      <p>인식 중 . . .</p>\r\n      {/* {isFront === undefined? console.log(\"아직 아님\") : isFront === false? <p>얼굴을 정면을 향해 맞춰주세요.</p>: <p>얼굴이 정면을 향해 있습니다.</p>)} */}\r\n      {/* {isWorking === undefined? <p></p> : <p>얼굴을 정면을 향해 맞춰주세요.</p>}\r\n       */}\r\n      {/* <p>{isFront === undefined ? null : \"yes\" }</p> */}\r\n      <ImageContainer>\r\n        <Webcam\r\n          ref={webcamRef}\r\n          style={{\r\n            position: \"relative\",\r\n            top: 0,\r\n            left: '5%',\r\n            width: \"90%\",\r\n            height: \"auto\",\r\n          }}\r\n        />\r\n        <canvas\r\n          ref={canvasRef}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: \"5%\",\r\n            width: \"90%\",\r\n          }}\r\n        />\r\n      </ImageContainer>\r\n    </>\r\n  );\r\n}\r\n\r\n// import { saveAs } from \"FileSaver\";\r\n// import { downcheck } from \"Containers/FaceOutput\";\r\n\r\n// length = 130. dots for detecting face shape\r\nvar DOTS = [\r\n  10, 21, 32, 34, 36, 50, 54, 58, 67, 68, 69, 71, 93, 101, 103,\r\n  104, 108, 109, 111, 116, 117, 118, 123, 127, 132, 135, 136, 137, 138, 139, 140, 143, 147, 148, 149, 150, 151, 152,\r\n  162, 169, 170, 171, 172, 175, 176, 177, 187, 192, 194, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 210, 211,\r\n  212, 213, 214, 215, 216, 227, 234, 251, 262, 264, 266, 280, 284, 288, 297, 298, 299, 301, 323, 330, 332, 333, 337,\r\n  338, 340, 345, 346, 347, 352, 356, 361, 364, 365, 366, 367, 368, 369, 372, 376, 377, 378, 379, 389, 394, 395, 396,\r\n  397, 400, 401, 411, 416, 418, 421, 422, 423, 424, 425, 426, 427, 428, 430, 431, 432, 433, 434, 435, 436, 447, 454,\r\n];\r\n\r\n// const checkFace = (keypoints) => {\r\n//   var std = 77;\r\n//   var user = keypoints[454][0] - keypoints[234][0];\r\n//   var ratio = user / std;\r\n//   var A = keypoints[10][0] - keypoints[234][0];\r\n//   var B = keypoints[454][0] - keypoints[10][0];\r\n//   var C = keypoints[10][0] - keypoints[152][0];\r\n\r\n//   if (A - B > 10 * ratio) setIsFront(false);//console.log(\"turn Left\");\r\n//   else if (A - B < -10 * ratio) setIsFront(false);//console.log(\"turn Right\");\r\n//   else if (Math.abs(C) > 10 * ratio) setIsFront(false);//console.log(\"a\");\r\n//   else setIsFront(true);//console.log(\"good\");\r\n// };\r\n\r\n// Drawing Mesh\r\n// const drawMesh = (predictions, ctx) => {\r\n//   // console.log(\"downcheck=\" + downcheck);\r\n\r\n//   //   counter++;\r\n\r\n//   //   if (counter >= 5) {\r\n//   //     console.log(\"CLEAR!!!!\");\r\n//   //     clearInterval(intervalId);\r\n//   //     downcheck = true;\r\n//   //   }\r\n\r\n//   if (predictions.length > 0) {\r\n//     predictions.forEach((prediction, result) => {\r\n//       const keypoints = prediction.scaledMesh;\r\n//       var finalData = [];\r\n//       // Draw Dots\r\n//       for (let i = 0; i < keypoints.length; i++) {\r\n//         // 먼저, index가 DOTS에 포함된 index인지 확인\r\n//         result = DOTS.includes(i);\r\n//         if (result) {\r\n//           const [x, y, z] = keypoints[i];\r\n//           // console.log(`Keypoint ${i}: [${x}, ${y}, ${z}]`);\r\n//           ctx.beginPath();\r\n//           ctx.arc(x, y, 1.7, 0, 3 * Math.PI);\r\n//           ctx.fillStyle = \"SpringGreen\";\r\n//           ctx.fill();\r\n\r\n//           finalData.push(keypoints[i]);\r\n//         }\r\n//       }\r\n//       checkFace(keypoints);\r\n//     });\r\n//   }\r\n// };\r\n\r\nexport default RealtimeFaceOutputContainer;\r\n\r\nconst ImageContainer = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  align-items: center;\r\n  justify-sentence: center;\r\n`;\r\n","// import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  min-height: 70vh;\r\n  margin-top: 12px;\r\n\tmargin-bottom: 18px;\r\n`;\r\n\r\nexport default Content;\r\n","import styled from 'styled-components'\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction:column;\r\n  align-items:center;\r\n  justify-content: center;\r\n\twidth: 90%;\r\n\tmin-height: 15%;\r\n  ${'' /* background-color: #ff0000; */}\r\n  ${'' /* margin-top: 24px; */}\r\n  ${'' /* border-radius: 12px; */}\r\n  ${'' /* box-shadow: 3px 4px 5px 0 rgba(0, 0, 0, 0.5); */}\r\n  ${'' /* height: 100%; */}\r\n`\r\n\r\nexport default Header;","import styled from 'styled-components'\r\n\r\nconst Footer = styled.div`\r\n  display: flex;\r\n  flex-direction:column;\r\n  align-items:center;\r\n  width: 90%;\r\n  min-height: 5%;\r\n  justify-content: center;\r\n  ${'' /* background-color: #9400D3;\r\n  margin-top: 24px; */}\r\n  ${'' /* border-radius: 12px; */}\r\n  ${'' /* box-shadow: 3px 4px 5px 0 rgba(0, 0, 0, 0.5); */}\r\n  ${'' /* height: 100%; */}  \r\n`\r\n\r\nexport default Footer;","import React from 'react';\r\nimport styled from 'styled-components'\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\n\r\nclass HomeButton extends React.Component{\r\n\thomeClick = () => {\r\n    this.props.ManageFile.pageIndex = 1;\r\n  };\r\n\t\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Home onClick={this.homeClick}>\r\n\t\t\t\t<Font20>HOME</Font20>\r\n\t\t\t</Home>\r\n\t\t);\r\n\t};\r\n};\r\n\r\nexport default HomeButton;\r\n\r\nconst Font20 = styled.div`\r\n\tcolor: white;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n`\r\n\r\nconst Home = styled.button`\r\n\t&:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #0933b3;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n\tcolor: white;\r\n\tbackground-color: #87ceea;\r\n\twidth: 120px;\r\n\theight: 40px;\r\n\tbox-shadow: 3px 4px 5px 0 rgba(0, 0, 0, 0.5);\r\n\tborder: none;\r\n  border-radius: 30px;\r\n\talign-items: center;\r\n  justify-content: space-around;\r\n`","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport FaceOutputContainer from \"./FaceOutput\";\r\nimport FaceInputContainer from \"./FaceInput\";\r\n\r\nimport Container from \"Components/Container\";\r\nimport { observer, inject } from \"mobx-react\";\r\nimport FileUploadContainer from \"./FileUpload\";\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\nclass EducationContainer extends React.Component {\r\n  render() {\r\n    const { ManageFile } = this.props;\r\n    return (\r\n      <>\r\n        <FileUploadContainer></FileUploadContainer>\r\n\r\n        {ManageFile.imageUrl != \"\" && <FaceOutputContainer />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EducationContainer;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport FaceOutputContainer from \"./FaceOutput\";\r\nimport FaceInputContainer from \"./FaceInput\";\r\nimport InitialContainer from \"./Init\";\r\nimport RealtimeFaceOutputContainer from \"./RealtimeFaceOutput\";\r\nimport Container from \"Components/Container\";\r\nimport Content from \"Components/Content\";\r\nimport Header from \"Components/Header\";\r\nimport Footer from \"Components/Footer\";\r\nimport NextButton from \"../Components/NextButton\";\r\nimport PrevButton from \"../Components/PrevButton\";\r\nimport HomeButton from \"../Components/HomeButton\";\r\nimport { observer, inject } from \"mobx-react\";\r\nimport EducationContainer from \"./Education\";\r\nimport Fade from \"react-reveal/Fade\";\r\n// import Reveal from \"react-reveal/Reveal\";\r\n\r\n// import * as cv from \"opencv4nodejs\";\r\n\r\nexport const appendScript = (scriptToAppend) => {\r\n  const script = document.createElement(\"script\");\r\n  script.src = scriptToAppend;\r\n  script.async = true;\r\n  document.body.appendChild(script);\r\n};\r\n\r\n@inject(\"ManageFile\")\r\n@observer\r\nclass HomeContainer extends React.Component {\r\n  state = {\r\n    buttonIndex: 0,\r\n  };\r\n\r\n  picClick = () => {\r\n    // alert(\"사진 업로드\");\r\n    // this.setState({ buttonIndex: 1 });\r\n    this.props.ManageFile.pageIndex = 2;\r\n  };\r\n\r\n  camClick = () => {\r\n    // alert(\"웹캠 사용\");\r\n    // this.setState({ buttonIndex: 2 });\r\n    this.props.ManageFile.pageIndex = 3;\r\n  };\r\n\r\n  realTimeCamClick = () => {\r\n    this.props.ManageFile.pageIndex = 6;\r\n  };\r\n\r\n  eduClick = () => {\r\n    this.props.ManageFile.pageIndex = 5;\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const script = document.createElement(\"script\");\r\n    // scriptKakaoJS.id = \"KakaoJSSDK\";\r\n\r\n    // script.id = \"danfojs\";\r\n    // script.src = \"//cdn.jsdelivr.net/npm/danfojs@0.1.2/dist/index.min.js\";\r\n    // script.src = \"opencv.js\";\r\n    // script.src = \"http://code.jquery.com/jquery-3.2.1.min.js\";\r\n    // script.type = \"text/javascript\";\r\n    // script.async = true;\r\n\r\n    // console.log(script);\r\n    // var a = fetch(\r\n    //   \"https://cdn.jsdelivr.net/npm/danfojs@0.1.2/dist/index.min.js\"\r\n    // ).then((res) => {\r\n    //   console.log(res);\r\n    //   console.log(res.body);\r\n    //   return res;\r\n    // });\r\n\r\n    // console.log(a.input);\r\n    // .then((res) => console.log(res))\r\n    // console.log(a);\r\n    document.body.appendChild(script);\r\n    script.text = 'console.log(\"www\");';\r\n\r\n    // console.log(script.src);\r\n    // console.log(script.id);\r\n    // console.log(script);\r\n    // script.src = \"//cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.4.0/dist/tf.min.js\";\r\n    // document.body.appendChild(script);\r\n\r\n    // console.log(tf);\r\n    // let max = 0;\r\n    // tf.loadLayersModel(\"./DeepLearningModel/my-model.json\").then(function (\r\n    //   model\r\n    // ) {\r\n    //   dfd.read_csv(\"./dataset/norm-all-data.csv\").then(function (DATA) {\r\n    //     input = DATA.loc({ rows: [14] });\r\n\r\n    //     let encoder = new dfd.OneHotEncoder();\r\n    //     let output = encoder.fit(DATA[\"260\"]);\r\n    //     console.log(output);\r\n    //     // 현재는 볼 쪽의 점들도 포함한 dataset으로 추후 이 점들을 제외한 데이터 사용\r\n    //     input.drop({ columns: [\"260\"], axis: 1, inplace: true });\r\n    //     const rvalue = model.predict(input.tensor);\r\n    //     rvalue.data().then(function (data) {\r\n    //       for (let i = 0; i < data.length; i++) {\r\n    //         if (data[i] <= 1 && data[i] > max) {\r\n    //           max = data[i];\r\n    //           max_id = i;\r\n    //         }\r\n    //       }\r\n    //       // 예측값(tensor)에서 최댓값과 인덱스 추출\r\n    //       console.log(max);\r\n    //       console.log(max_id);\r\n    //       let result = output.iloc({ columns: [String(max_id)] });\r\n    //       //얼굴형을 string으로 넘겨준다.\r\n    //       shape = result.columns[0];\r\n    //       console.log(shape);\r\n    //     });\r\n    //   });\r\n    // });\r\n  }\r\n  componentDidUpdate() {\r\n    // alert(\"F\");\r\n  }\r\n  render() {\r\n    const { ManageFile } = this.props;\r\n    // let count = 0;\r\n    return (\r\n      <>\r\n        {/* <FileUploadContainer/> */}\r\n        <Container>\r\n          <Header>\r\n            <Font50>H A I!</Font50>\r\n          </Header>\r\n          <Content>\r\n            {ManageFile.pageIndex === 0 && <InitialContainer />}\r\n            {ManageFile.pageIndex === 1 && (\r\n              <>\r\n                {/* <Font50>분기 설정</Font50> */}\r\n                <AnimationButtonContainer>\r\n                  <ButtonItem>\r\n                    <Fade left cascade>\r\n                      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <PicUploadButton onClick={this.picClick}>\r\n                          <ButtonFont15>사진 업로드</ButtonFont15>\r\n                        </PicUploadButton>\r\n                      </div>\r\n                    </Fade>\r\n                    <Fade right cascade delay={2000}>\r\n                      <Font20>\r\n                        웹캠이 준비되어 있지 않으시면 사진을 직접 업로드 할 수\r\n                        있습니다.\r\n                      </Font20>\r\n                    </Fade>\r\n                  </ButtonItem>\r\n\r\n                  <ButtonItem>\r\n                    <Fade left cascade delay={500}>\r\n                      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <WebcamButton onClick={this.camClick}>\r\n                          <ButtonFont15>웹캠 캡쳐</ButtonFont15>\r\n                        </WebcamButton>\r\n                      </div>\r\n                    </Fade>\r\n\r\n                    <Fade right cascade delay={2500}>\r\n                      <Font20>\r\n                        웹캠이 준비되어 있지 않으시면 사진을 직접 업로드 할 수\r\n                        있습니다.\r\n                      </Font20>\r\n                    </Fade>\r\n                  </ButtonItem>\r\n\r\n                  <ButtonItem>\r\n                    <Fade left cascade delay={1000}>\r\n                      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <WebcamButton onClick={this.realTimeCamClick}>\r\n                          <ButtonFont15>실시간 웹캠</ButtonFont15>\r\n                        </WebcamButton>\r\n                      </div>\r\n                    </Fade>\r\n\r\n                    <Fade right cascade delay={3000}>\r\n                      <Font20>\r\n                        웹캠이 준비되어 있지 않으시면 사진을 직접 업로드 할 수\r\n                        있습니다.\r\n                      </Font20>\r\n                    </Fade>\r\n                  </ButtonItem>\r\n\r\n                  {/* <ButtonItem>\r\n                    <Fade left cascade delay={1500}>\r\n                      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <WebcamButton onClick={this.eduClick}>\r\n                          <ButtonFont15>학습하기</ButtonFont15>\r\n                        </WebcamButton>\r\n                      </div>\r\n                    </Fade>\r\n\r\n                    <Fade right cascade delay={3500}>\r\n                      <Font20>\r\n                        웹캠이 준비되어 있지 않으시면 사진을 직접 업로드 할 수\r\n                        있습니다.\r\n                      </Font20>\r\n                    </Fade>\r\n                  </ButtonItem> */}\r\n                </AnimationButtonContainer>\r\n              </>\r\n            )}\r\n            {ManageFile.pageIndex === 2 && (\r\n              <FaceInputContainer inputType={\"file\"} />\r\n            )}\r\n            {ManageFile.pageIndex === 3 && (\r\n              <FaceInputContainer inputType={\"cam\"} />\r\n            )}\r\n            {ManageFile.pageIndex === 4 && <FaceOutputContainer />}\r\n            {ManageFile.pageIndex === 5 && <EducationContainer />}\r\n            {ManageFile.pageIndex === 6 && <RealtimeFaceOutputContainer />}\r\n          </Content>\r\n          <ButtonContainer>\r\n          {ManageFile.pageIndex !== 0 &&\r\n             ManageFile.pageIndex !== 4 &&\r\n             ManageFile.pageIndex !== 6 && <PrevButton />}\r\n            {ManageFile.pageIndex !== 1 &&\r\n              ManageFile.pageIndex !== 2 &&\r\n              ManageFile.pageIndex !== 4 &&\r\n              ManageFile.pageIndex !== 3 &&\r\n              ManageFile.pageIndex !== 5 &&\r\n              ManageFile.pageIndex !== 6 && <NextButton />}\r\n            {(ManageFile.pageIndex === 4 ||\r\n             ManageFile.pageIndex === 6) && (<HomeButton />)}\r\n          </ButtonContainer>\r\n          <Footer>\r\n            <Font15>Robolink AI web app free trial</Font15>\r\n          </Footer>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomeContainer;\r\n\r\nconst ButtonItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 24px;\r\n  margin-bottom: 24px;\r\n`;\r\nconst AnimationButtonContainer = styled.div`\r\n  width: 75%;\r\n  height: 75%;\r\n  /* display: flex; */\r\n  /* display: none; */\r\n  /* background: black; */\r\n  /* align-items: center; */\r\n  /* justify-content: space-around; */\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  ${'' /* padding-vertical: 50px; */}\r\n  /* align-items: flex-start !important; */\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: 90%;\r\n  height: 70px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`\r\n\r\nconst PicUploadButton = styled.button`\r\n\t&:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #3d978f;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n  color: black;\r\n  width: 120px;\r\n  height: 40px;\r\n  background-color: #007166;\r\n  box-shadow: 0 3px 5px 0 rgba(0, 0, 0, 0.3);\r\n  border: none;\r\n  border-radius: 30px;\r\n`;\r\n\r\nconst WebcamButton = styled.button`\r\n\t&:hover {\r\n    cursor: pointer;\r\n    border: solid 2px #3d978f;\r\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n  color: black;\r\n  width: 120px;\r\n  height: 40px;\r\n  background-color: #007166;\r\n  box-shadow: 0 3px 5px 0 rgba(0, 0, 0, 0.3);\r\n  border: none;\r\n  border-radius: 30px;\r\n`;\r\n\r\nconst Font50 = styled.div`\r\n  color: #fdffd5;\r\n  font-size: 50px;\r\n  font-weight: bold;\r\n  cursor: default;\r\n`;\r\n\r\nconst ButtonFont15 = styled.div`\r\n  color: #fdffd5;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Font15 = styled.div`\r\n  color: #fdffd5;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  cursor: default;\r\n`;\r\n\r\nconst Font20 = styled.p`\r\n  color: #fdffd5;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: default;\r\n  /* display: flex; */\r\n  /* align-items: center; */\r\n`;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\n// import styled from \"styled-components\";\r\n// import * as tf from \"@tensorflow/tfjs\";\r\n// import * as facemesh from \"@tensorflow-models/face-landmarks-detection\";\r\n// import Webcam from \"react-webcam\";\r\n// import { drawMesh } from \"./utilities\";\r\n//import { drawDot } from \"./mask\";\r\n// import { getUserFace } from \"./compare\";\r\n\r\n//Components\r\nimport HomeContainer from \"./Containers/Home\";\r\n\r\nfunction App() {\r\n  // const webcamRef = useRef(null);\r\n  // const canvasRef = useRef(null);\r\n  // //  Load posenet\r\n  // const runFacemesh = async () => {\r\n  //   const net = await facemesh.load(\r\n  //     facemesh.SupportedPackages.mediapipeFacemesh\r\n  //   );\r\n  //   setInterval(() => {\r\n  //     detect(net);\r\n  //   }, 10);\r\n  // };\r\n\r\n  // const detect = async (net) => {\r\n  //   if (\r\n  //     typeof webcamRef.current !== \"undefined\" &&\r\n  //     webcamRef.current !== null &&\r\n  //     webcamRef.current.video.readyState === 4\r\n  //   ) {\r\n  //     // Get Video Properties\r\n  //     const video = webcamRef.current.video;\r\n  //     const videoWidth = webcamRef.current.video.videoWidth;\r\n  //     const videoHeight = webcamRef.current.video.videoHeight;\r\n\r\n  //     // Set video width\r\n  //     webcamRef.current.video.width = videoWidth;\r\n  //     webcamRef.current.video.height = videoHeight;\r\n\r\n  //     // Set canvas width\r\n  //     canvasRef.current.width = videoWidth;\r\n  //     canvasRef.current.height = videoHeight;\r\n\r\n  //     const face = await net.estimateFaces({ input: video });\r\n  //     console.log(face);\r\n\r\n  //     // Get canvas context\r\n  //     const ctx = canvasRef.current.getContext(\"2d\");\r\n  //     requestAnimationFrame(() => {\r\n  //       drawMesh(face, ctx);\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  // useEffect(()=>{runFacemesh()}, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <HomeContainer />\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import ManageFile from \"./ManageFile\";\r\n\r\nexport default {\r\n    ManageFile,\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport stores from \"stores\";\r\nimport { Provider } from \"mobx-react\";\r\n\r\nimport ManageFile from \"stores/ManageFile\";\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  //   <App />\r\n  // </React.StrictMode>,\r\n  <Provider {...stores}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}